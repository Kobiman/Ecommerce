<section class="section-content padding-y bg">
  <div class="container">
    <div class="card">
      <div class="row no-gutters">
        <aside class="col-md-6">
          <article class="gallery-wrap">
            <div class="img-big-wrap">
              <a><img src="{{product.image}}"></a>
            </div>

          </article>
        </aside>
        <main class="col-md-6 border-left">
          <article class="content-body">           
            <h4 class="card-title mb-4">Add Product</h4>
            <form #addProductForm="ngForm" novalidate>
              <div class="form-row">
                <div class="col form-group">
                  <label>Name</label>
                  <input name="productName" type="text" class="form-control" placeholder="" [(ngModel)]="product.name" #productName="ngModel"
                         required minlength="2">
                  <div *ngIf="productName.invalid && (productName.dirty || productName.touched)" class="alert alert-danger">
                    <div *ngIf="productName.errors.required">
                      Product name is required.
                    </div>
                    <div *ngIf="productName.errors.minlength">
                      Product name must be at least 2 characters long.
                    </div>
                  </div>
                </div>
                <div class="col form-group">
                  <label>Category</label>
                  <input name="category" type="text" class="form-control" placeholder="" [(ngModel)]="product.category" #category="ngModel"
                         required minlength="2">
                  <div *ngIf="category.invalid && (category.dirty || category.touched)" class="alert alert-danger">
                    <div *ngIf="category.errors.required">
                      Category is required.
                    </div>
                    <div *ngIf="category.errors.minlength">
                      Category must be at least 2 characters long.
                    </div>
                  </div>
                </div>
              </div>

              <div class="form-row">
                <div class="col form-group">
                  <label>Price</label>
                  <input name="price" type="number" class="form-control" placeholder="" [(ngModel)]="product.price" #price="ngModel"
                         required>
                  <div *ngIf="price.invalid && (price.dirty || price.touched)" class="alert alert-danger">
                    <div *ngIf="price.errors.required">
                      Price is required.
                    </div>
                  </div>
                </div>
                <div class="col form-group">
                  <label>Brand</label>
                  <input name="brand" type="text" class="form-control" placeholder="" [(ngModel)]="product.brand" #brand="ngModel"
                         required minlength="2">
                  <div *ngIf="brand.invalid && (brand.dirty || brand.touched)" class="alert alert-danger">
                    <div *ngIf="brand.errors.required">
                      Brand is required.
                    </div>
                    <div *ngIf="brand.errors.minlength">
                      Brand must be at least 2 characters long.
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-group">
                <label>Description</label>
                <textarea name="description" type="text" class="form-control" rows="6" placeholder="" [(ngModel)]="product.description" #description="ngModel"></textarea>
              </div>
              <div class="form-group">
                <label for="exampleFormControlFile1">
                  <input type="file" class="form-control-file" (change)="uploadProduct($event.target.files)">
                </label>
              </div>

            </form>           

            <hr>
            <div class="form-row">
              <div class="col-md-2">
                <button *ngIf="addProductForm.invalid && !product.productId" class="btn btn-primary" disabled>
                  <span class="text">Save</span> <i class="fas fa-save"></i>
                </button>
                <button *ngIf="addProductForm.valid && !product.productId" class="btn btn-primary" (click)="addProducts(product,addProductForm)">
                  <span class="text">Save</span>  <i class="fas fa-save"></i>
                </button>
                <button *ngIf="addProductForm.invalid && product.productId" class="btn btn-primary" disabled>
                  <span class="text">Save</span>  <i class="fas fa-save"></i>
                </button>
                <button *ngIf="addProductForm.valid && product.productId" class="btn btn-primary" (click)="updateProduct(product,addProductForm)">
                  <span class="text">Save</span>  <i class="fas fa-save"></i>
                </button>
              </div>

              <div class="col-md-2">
                <button class="btn  btn-outline-primary" [routerLink]="['/all-products']">
                  <span class="text">Back</span> <i class="fas fa-arrow-circle-left"></i>
                </button>
              </div>
            </div>            
          </article>
        </main>
      </div>
    </div>
  </div>
</section>

